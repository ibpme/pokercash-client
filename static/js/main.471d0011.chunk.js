(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,a,t){},15:function(e,a,t){},16:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(7),l=t.n(s),i=(t(14),t(2)),o=t(3),u=t(1),c=t(4),p=t(5),d=(t(15),function(e){Object(p.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).callOrCheck=n.callOrCheck.bind(Object(u.a)(n)),n.raise=n.raise.bind(Object(u.a)(n)),n.fold=n.fold.bind(Object(u.a)(n)),n.handleRaiseChange=n.handleRaiseChange.bind(Object(u.a)(n)),n.state={raiseAmount:0},n}return Object(o.a)(t,[{key:"callOrCheck",value:function(){0===this.props.playerData.requiredCall?(console.log("Check"),this.props.playerCheckOrCall(this.props.index)):(console.log("Call"),this.props.playerCheckOrCall(this.props.index))}},{key:"raise",value:function(){var e=Object.assign({},this.state),a=Number(e.raiseAmount);this.props.playerRaise(this.props.index,a)}},{key:"fold",value:function(){console.log("fold"),this.props.playerFold(this.props.index)}},{key:"handleRaiseChange",value:function(e){var a=e.target.value;this.setState({raiseAmount:a})}},{key:"render",value:function(){return r.a.createElement("div",{style:!this.props.playerData.turn||this.props.playerData.fold?{opacity:.5}:{}},r.a.createElement("div",{className:"max-w-m bg-teal-600 rounded overflow-hidden shadow-lg m-4"},r.a.createElement("span",{className:"inline-block px-3 py-1 text-base font-semibold text-gray-100 mr-2"},"Name : ",this.props.playerData.name),r.a.createElement("span",{className:"inline-block px-3 py-1 text-base font-semibold text-gray-100 mr-2"},"Cash : ",this.props.playerData.cash),r.a.createElement("span",{className:"inline-block px-3 py-1 text-base font-semibold text-yellow-400 mr-2"},"Required Call: ",this.props.playerData.requiredCall)),r.a.createElement("div",{className:"inline-flex"},r.a.createElement("button",{disabled:!this.props.playerData.turn||this.props.playerData.fold,className:"bg-green-400 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 mx-2 rounded shadow",onClick:this.callOrCheck},0===this.props.playerData.requiredCall?"Check":"Call"),r.a.createElement("input",{className:"text-blue-800 px-2 mx-2 rounded shadow",onChange:this.handleRaiseChange,min:this.props.maxRaise,max:this.props.playerData.cash,value:this.state.raiseAmount,name:"raiseAmount",type:"number"}),r.a.createElement("button",{disabled:!this.props.playerData.turn||this.props.playerData.fold,className:"bg-orange-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 mx-2 rounded shadow",onClick:this.raise},"Raise"),r.a.createElement("button",{disabled:!this.props.playerData.turn||this.props.playerData.fold,className:"bg-red-500 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 mx-2 rounded shadow",onClick:this.fold},"Fold")))}}]),t}(n.Component)),h=function(e){Object(p.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={pot:0,numOfActivePlayers:0,numofTotalPlayers:0,status:!0,maxRaise:0,playersData:[]},n.addToPot=n.addToPot.bind(Object(u.a)(n)),n.adjustMaxRaise=n.adjustMaxRaise.bind(Object(u.a)(n)),n.playerCheckOrCall=n.playerCheckOrCall.bind(Object(u.a)(n)),n.playerRaise=n.playerRaise.bind(Object(u.a)(n)),n.playerFold=n.playerFold.bind(Object(u.a)(n)),n.setTurn=n.setTurn.bind(Object(u.a)(n)),n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({playersData:this.props.playersData,numOfActivePlayers:this.props.numofTotalPlayers,numofTotalPlayers:this.props.numofTotalPlayers})}},{key:"nextTurn",value:function(){for(var e=this.state.playersData.slice(),a=e.findIndex((function(e){return e.turn})),t=Number((a+1)%Number(this.state.numofTotalPlayers));e[t].fold;)t=Number((t+1)%Number(this.state.numofTotalPlayers));this.setTurn(t)}},{key:"setTurn",value:function(e){var a=this.state.playersData.slice();a.forEach((function(a){a.turn=a.number===e})),this.setState({playersData:a})}},{key:"addToPot",value:function(e){this.setState((function(a){return{pot:a.pot+e}}))}},{key:"adjustMaxRaise",value:function(e){this.setState({maxRaise:e})}},{key:"adjustRequiredCalls",value:function(){this.state.playersData.slice().every((function(e){return 0===e.requiredCall}))&&this.setState({maxRaise:0}),this.checkWinner()}},{key:"checkWinner",value:function(){var e=this.state.playersData.slice(),a=0;e.forEach((function(e){a=e.fold?a:a+1})),1===a?this.isWinner():(this.nextTurn(),this.setState({numOfActivePlayers:a}))}},{key:"isWinner",value:function(){var e=Object.assign({},this.state);e.playersData.find((function(e){return!e.fold})).cash+=e.pot,e.maxRaise=0,this.setState({immuteState:e}),this.newRound()}},{key:"newRound",value:function(){var e=Object.assign({},this.state);e.playersData.forEach((function(e){e.fold=!1})),this.setState({playersData:e.playersData,pot:0}),this.setTurn(0)}},{key:"playerCheckOrCall",value:function(e){var a=this.state.playersData.slice(),t=a[e];t.cash-=t.requiredCall,this.addToPot(t.requiredCall),t.requiredCall=0,this.setState({playersData:a}),this.adjustRequiredCalls()}},{key:"playerRaise",value:function(e,a){var t=this,n=this.state.playersData.slice(),r=n[e];r.cash-=a,this.addToPot(a),r.requiredCall=0,n.forEach((function(e){e.number!==r.number&&(e.requiredCall+=a-t.state.maxRaise)})),this.setState({playersData:n}),this.adjustMaxRaise(a),this.adjustRequiredCalls()}},{key:"playerFold",value:function(e){var a=this.state.playersData.slice(),t=a[e];t.fold=!0,t.requiredCall=0,this.setState({playersData:a}),this.adjustRequiredCalls()}},{key:"renderPlayers",value:function(){var e=this;return this.state.playersData.map((function(a,t){return r.a.createElement(d,{key:t,index:t,playerData:a,addToPot:e.addToPot,maxRaise:e.state.maxRaise,playerCheckOrCall:e.playerCheckOrCall,playerRaise:e.playerRaise,playerFold:e.playerFold})}))}},{key:"render",value:function(){return 0===this.state.playersData.length?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",null,r.a.createElement("div",{className:"max-w-m bg-blue-400 rounded overflow-hidden shadow-lg m-4"},r.a.createElement("p",{className:"inline px-2 font-bold "},"Total players: ",this.state.numofTotalPlayers),r.a.createElement("p",{className:"inline px-2 font-bold"},"Active players: ",this.state.numOfActivePlayers),r.a.createElement("p",{className:"font-bold text-black"},"Pot: ",this.state.pot),r.a.createElement("p",{className:"font-bold text-red-700"},"Max Raise: ",this.state.maxRaise)),this.renderPlayers())}}]),t}(n.Component),m=t(8),b=function(e){Object(p.a)(t,e);var a=Object(c.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"mx-3 text-base pt-5 "},"Player Number ".concat(Number(this.props.playerNumber+1),":")),r.a.createElement("label",{className:"block text-black text-sm font-bold m-2"},"Name:"),r.a.createElement("input",{className:"bg-gray-700 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-black leading-tight focus:outline-none focus:bg-blue-500 focus:border-black-500",required:!0,name:"player"+this.props.playerNumber,type:"text",onChange:this.props.handleInputChange}),r.a.createElement("br",null),r.a.createElement("label",{className:"block text-black text-sm font-bold m-2"},"Cash:"),r.a.createElement("input",{className:"bg-gray-700 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-black leading-tight focus:outline-none focus:bg-blue-500 focus:border-black-500",required:!0,name:"cash"+this.props.playerNumber,type:"number",min:"0",onChange:this.props.handleInputChange}))}}]),t}(n.Component),y=function(e){Object(p.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={numberOfTotalPlayers:2},n.renderPlayerInput=n.renderPlayerInput.bind(Object(u.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(o.a)(t,[{key:"handleInputChange",value:function(e){var a=e.target.name,t=e.target.value;this.setState(Object(m.a)({},a,t))}},{key:"handleSubmit",value:function(e){for(var a=[],t=0;t<this.state.numberOfTotalPlayers;t++){var n={number:t,name:this.state[String("player"+t)],cash:this.state[String("cash"+t)],fold:!1,turn:!0,requiredCall:0};a.push(n)}this.props.submitPlayers(a)}},{key:"renderPlayerInput",value:function(){var e=this,a=Number(this.state.numberOfTotalPlayers);return Array(a).fill().map((function(a,t){return r.a.createElement(b,{handleInputChange:e.handleInputChange,key:t,playerNumber:t})}))}},{key:"render",value:function(){return r.a.createElement("form",{className:"bg-blue-800 shadow-md rounded  p-8 m-4",autoComplete:"off",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"block text-white text-sm font-bold mb-2"},"Number of players:"),r.a.createElement("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-black leading-tight focus:outline-none focus:shadow-outline",min:"2",max:"9",name:"numberOfTotalPlayers",type:"number",value:this.state.numberOfTotalPlayers,onChange:this.handleInputChange}),this.renderPlayerInput(),r.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold mt-5 py-1 px-4 rounded-full",variant:"contained",color:"primary",onSubmit:this.handleSubmit},"Submit"))}}]),t}(n.Component),f=function(e){Object(p.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={gameReady:!1,playersData:[]},n.submitPlayers=n.submitPlayers.bind(Object(u.a)(n)),n}return Object(o.a)(t,[{key:"submitPlayers",value:function(e){var a=e;this.setState({playersData:a}),this.setState({gameReady:!0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},this.state.gameReady?r.a.createElement(h,{numofTotalPlayers:this.state.playersData.length,playersData:this.state.playersData}):r.a.createElement(y,{submitPlayers:this.submitPlayers})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,a,t){e.exports=t(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.471d0011.chunk.js.map